{"version":3,"sources":["../../../src/components/widgets/Dropdown.js"],"names":["Dropdown","props","onChange","bind","selection","multi","valueKey","map","s","minWidth","placeholder","clearable","value","options","searchable","noResultsText","disabled","className","width","_","context","localize","dropdownStyle","opts","opt","label","dropdownContainerClass","backgroundDark","filter","o","Array","isArray","includes","components","Component","defaultProps","propTypes","PropTypes","bool","func","isRequired","array","oneOfType","string","object","number","any","contextTypes"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport Select from 'react-select';\nimport classnames from 'classnames';\n\nclass Dropdown extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(selection) {\n    const {multi, onChange, valueKey} = this.props;\n\n    if (!selection) {\n      return onChange(null);\n    }\n\n    return multi ? onChange(selection.map((s) => s[valueKey])) : onChange(selection[valueKey]);\n  }\n\n  render() {\n    const {\n      minWidth,\n      placeholder,\n      clearable,\n      value,\n      options,\n      searchable,\n      multi,\n      noResultsText,\n      valueKey,\n      disabled,\n      className,\n      width,\n    } = this.props;\n\n    const {localize: _} = this.context;\n\n    const dropdownStyle = {minWidth};\n    if (width) {\n      dropdownStyle.width = width;\n    }\n\n    const opts = options.map((opt) =>\n      typeof opt === 'string' ? {label: opt, [valueKey]: opt} : opt\n    );\n\n    const dropdownContainerClass = classnames('dropdown-container', {\n      'dropdown--dark': this.props.backgroundDark,\n      [className]: className,\n    });\n\n    return (\n      <div className={dropdownContainerClass} style={dropdownStyle}>\n        <Select\n          placeholder={placeholder || _('Select an Option')}\n          isClearable={clearable}\n          value={opts.filter((o) =>\n            Array.isArray(value) ? value.includes(o[valueKey]) : value === o[valueKey]\n          )}\n          options={opts}\n          isSearchable={searchable}\n          onChange={this.onChange}\n          isMulti={multi}\n          noOptionsMessage={() => noResultsText || _('No Results')}\n          getOptionValue={(o) => o[valueKey]}\n          getOptionLabel={(o) => o.label}\n          isDisabled={disabled}\n          className={dropdownContainerClass}\n          classNamePrefix=\"Select\"\n          components={this.props.components}\n        />\n      </div>\n    );\n  }\n}\n\nDropdown.defaultProps = {\n  clearable: true,\n  multi: false,\n  searchable: false,\n  minWidth: '120px',\n  valueKey: 'value',\n  disabled: false,\n};\n\nDropdown.propTypes = {\n  backgroundDark: PropTypes.bool,\n  clearable: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n  placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  searchable: PropTypes.bool,\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  valueKey: PropTypes.string,\n  value: PropTypes.any,\n  multi: PropTypes.bool,\n  components: PropTypes.object,\n  noResultsText: PropTypes.string,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nDropdown.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default Dropdown;\n"],"file":"Dropdown.js"}