{"version":3,"sources":["../../../src/components/widgets/TraceTypeSelector.js"],"names":["renderActionItems","actionItems","item","map","action","i","onClick","label","icon","Item","active","handleClick","actions","showActions","complex","value","SimpleIcon","ComplexIcon","propTypes","PropTypes","object","bool","func","contextTypes","localize","TraceTypeSelector","props","selectAndClose","bind","renderCategories","renderGrid","renderSingleBlock","updateContainer","glByDefault","type","fullContainer","computedValue","endsWith","TRACES_WITH_GL","includes","context","handleClose","_","chartHelp","e","stopPropagation","feedQuery","window","open","helpDoc","examplePlot","fullValue","traceTypesConfig","traces","categories","category","items","filter","MAX_ITEMS","columnClasses","length","maxColumns","Boolean","display","Component","string","mapBoxAccess","TraceTypeSelectorButton","container","inferredType","find","Icon","isRequired"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,WAAD,EAAcC,IAAd;AAAA,SACxBD,WAAW,GACPA,WAAW,CAACC,IAAD,CAAX,CAAkBC,GAAlB,CAAsB,UAACC,MAAD,EAASC,CAAT;AAAA,WACpB,CAACD,MAAM,CAACE,OAAR,GAAkB,IAAlB,gBACE;AACE,MAAA,SAAS,EAAC,2BADZ;AAEE,MAAA,GAAG,EAAED,CAFP;AAGE,oBAAYD,MAAM,CAACG,KAHrB;AAIE,0CAJF;AAKE,MAAA,IAAI,EAAC,SALP;AAME,MAAA,OAAO,EAAEH,MAAM,CAACE,OANlB;AAOE,MAAA,MAAM,EAAC;AAPT,OASGF,MAAM,CAACI,IATV,CAFkB;AAAA,GAAtB,CADO,GAgBP,IAjBoB;AAAA,CAA1B;;AAmBA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAgE;AAAA,MAA9DP,IAA8D,QAA9DA,IAA8D;AAAA,MAAxDQ,MAAwD,QAAxDA,MAAwD;AAAA,MAAhDC,WAAgD,QAAhDA,WAAgD;AAAA,MAAnCC,OAAmC,QAAnCA,OAAmC;AAAA,MAA1BC,WAA0B,QAA1BA,WAA0B;AAAA,MAAbC,OAAa,QAAbA,OAAa;AAC3E,MAAOP,KAAP,GAA6BL,IAA7B,CAAOK,KAAP;AAAA,MAAcQ,KAAd,GAA6Bb,IAA7B,CAAca,KAAd;AAAA,MAAqBP,IAArB,GAA6BN,IAA7B,CAAqBM,IAArB;AACA,MAAMQ,UAAU,GAAG,0BAAgBR,IAAI,GAAGA,IAAH,GAAUO,KAA9B,CAAnB;AACA,MAAME,WAAW,GAAG,0BAAgBT,IAAI,GAAGA,IAAH,GAAUO,KAA9B,EAAqC,WAArC,CAApB;AAEA,sBACE;AAAK,IAAA,SAAS,sBAAeL,MAAM,GAAG,qBAAH,GAA2B,EAAhD,CAAd;AAAoE,IAAA,OAAO,EAAEC;AAA7E,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGC,OAAO,IAAIC,WAAX,GAAyBb,iBAAiB,CAACY,OAAD,EAAUV,IAAV,CAA1C,GAA4D,IAD/D,CADF,eAIE;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,CAACY,OAAD,iBACC;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,6BAAC,UAAD,OADF,CAFJ,EAMGA,OAAO,iBACN;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,6BAAC,WAAD,OADF,CAPJ,CAJF,eAgBE;AAAK,IAAA,SAAS,EAAC;AAAf,KAAoCP,KAApC,CAhBF,CADF;AAoBD,CAzBD;;AA2BAE,IAAI,CAACS,SAAL,GAAiB;AACfhB,EAAAA,IAAI,EAAEiB,mBAAUC,MADD;AAEfV,EAAAA,MAAM,EAAES,mBAAUE,IAFH;AAGfP,EAAAA,OAAO,EAAEK,mBAAUE,IAHJ;AAIfV,EAAAA,WAAW,EAAEQ,mBAAUG,IAJR;AAKfV,EAAAA,OAAO,EAAEO,mBAAUG,IALJ;AAMfT,EAAAA,WAAW,EAAEM,mBAAUE;AANR,CAAjB;AAQAZ,IAAI,CAACc,YAAL,GAAoB;AAClBC,EAAAA,QAAQ,EAAEL,mBAAUG;AADF,CAApB;;IAIMG,iB;;;;;AACJ,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AAEA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB;AACA,UAAKhB,OAAL,GAAe,MAAKA,OAAL,CAAagB,IAAb,+BAAf;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB;AACA,UAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,+BAAlB;AACA,UAAKG,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBH,IAAvB,+BAAzB;AAPiB;AAQlB;;;;WAED,wBAAeb,KAAf,EAAsB;AACpB,wBAII,KAAKW,KAJT;AAAA,UACEM,eADF,eACEA,eADF;AAAA,UAEEC,WAFF,eAEEA,WAFF;AAAA,UAGkBC,IAHlB,eAGEC,aAHF,CAGkBD,IAHlB;AAKA,UAAME,aAAa,GAAG,sCAA4BrB,KAA5B,CAAtB;;AACA,UACE,CAAEmB,IAAI,IAAIA,IAAI,CAACG,QAAL,CAAc,IAAd,CAAT,IAAkC,CAACC,0BAAeC,QAAf,CAAwBL,IAAxB,CAAD,IAAkCD,WAArE,KACAK,0BAAeC,QAAf,CAAwBH,aAAa,CAACF,IAAtC,CADA,IAEA,CAACE,aAAa,CAACF,IAAd,CAAmBG,QAAnB,CAA4B,IAA5B,CAHH,EAIE;AACAD,QAAAA,aAAa,CAACF,IAAd,IAAsB,IAAtB;AACD;;AACDF,MAAAA,eAAe,CAACI,aAAD,CAAf;AACA,WAAKI,OAAL,CAAaC,WAAb;AACD;;;WAED,wBAAiB;AAAA;;AAAA,UAAR1B,KAAQ,SAARA,KAAQ;AACf,0BAAiC,KAAKyB,OAAtC;AAAA,UAAiBE,CAAjB,iBAAOlB,QAAP;AAAA,UAAoBmB,SAApB,iBAAoBA,SAApB;;AAEA,UAAMrC,OAAO,GAAG,SAAVA,OAAU,CAACsC,CAAD,EAAItB,IAAJ,EAAa;AAC3BsB,QAAAA,CAAC,CAACC,eAAF;AACAvB,QAAAA,IAAI;;AACJ,QAAA,MAAI,CAACkB,OAAL,CAAaC,WAAb;AACD,OAJD;;AAMA,aAAO,CACL;AACElC,QAAAA,KAAK,EAAEmC,CAAC,CAAC,mCAAD,CADV;AAEEpC,QAAAA,OAAO,EACLqC,SAAS,CAAC5B,KAAD,CAAT,IACA4B,SAAS,CAAC5B,KAAD,CAAT,CAAiB+B,SADjB,IAEC,UAACF,CAAD;AAAA,iBACCtC,OAAO,CAACsC,CAAD,EAAI;AAAA,mBACTG,MAAM,CAACC,IAAP,mCAC6BL,SAAS,CAAC5B,KAAD,CAAT,GAAmB4B,SAAS,CAAC5B,KAAD,CAAT,CAAiB+B,SAApC,GAAgD/B,KAD7E,GAEE,QAFF,CADS;AAAA,WAAJ,CADR;AAAA,SALL;AAYEP,QAAAA,IAAI,eAAE,6BAAC,uBAAD;AAZR,OADK,EAeL;AACED,QAAAA,KAAK,EAAEmC,CAAC,CAAC,oCAAD,CADV;AAEEpC,QAAAA,OAAO,EACLqC,SAAS,CAAC5B,KAAD,CAAT,IACA4B,SAAS,CAAC5B,KAAD,CAAT,CAAiBkC,OADjB,IAEC,UAACL,CAAD;AAAA,iBAAOtC,OAAO,CAACsC,CAAD,EAAI;AAAA,mBAAMG,MAAM,CAACC,IAAP,CAAYL,SAAS,CAAC5B,KAAD,CAAT,CAAiBkC,OAA7B,EAAsC,QAAtC,CAAN;AAAA,WAAJ,CAAd;AAAA,SALL;AAMEzC,QAAAA,IAAI,eAAE,6BAAC,6BAAD;AANR,OAfK,EAuBL;AACED,QAAAA,KAAK,EAAEmC,CAAC,CAAC,sBAAD,CADV;AAEEpC,QAAAA,OAAO,EACLqC,SAAS,CAAC5B,KAAD,CAAT,IACA4B,SAAS,CAAC5B,KAAD,CAAT,CAAiBmC,WADjB,IAEC,UAACN,CAAD;AAAA,iBAAOtC,OAAO,CAACsC,CAAD,EAAID,SAAS,CAAC5B,KAAD,CAAT,CAAiBmC,WAArB,CAAd;AAAA,SALL;AAME1C,QAAAA,IAAI,eAAE,6BAAC,sBAAD;AANR,OAvBK,CAAP;AAgCD;;;WAED,4BAAmB;AAAA;;AACjB,UAAO2C,SAAP,GAAoB,KAAKzB,KAAzB,CAAOyB,SAAP;AACA,2BAAiC,KAAKX,OAAtC;AAAA,UAAiBE,CAAjB,kBAAOlB,QAAP;AAAA,UAAoBmB,SAApB,kBAAoBA,SAApB;AACA,kCAEI,KAAKjB,KAFT,CACE0B,gBADF;AAAA,UACqBC,MADrB,yBACqBA,MADrB;AAAA,UAC6BC,UAD7B,yBAC6BA,UAD7B;AAAA,UACyCxC,OADzC,yBACyCA,OADzC;AAIA,aAAOwC,UAAU,CAACZ,CAAD,CAAV,CAAcvC,GAAd,CAAkB,UAACoD,QAAD,EAAWlD,CAAX,EAAiB;AACxC,YAAMmD,KAAK,GAAGH,MAAM,CAACX,CAAD,CAAN,CACXe,MADW,CACJ;AAAA,cAAa1C,KAAb,SAAEwC,QAAF,CAAaxC,KAAb;AAAA,iBAAyBA,KAAK,KAAKwC,QAAQ,CAACxC,KAA5C;AAAA,SADI,EAEX0C,MAFW,CAEJ,UAACpD,CAAD;AAAA,iBAAOA,CAAC,CAACU,KAAF,KAAY,WAAZ,IAA2BV,CAAC,CAACU,KAAF,KAAY,gBAA9C;AAAA,SAFI,CAAd;AAIA,YAAM2C,SAAS,GAAG,CAAlB;AAEA,YAAMC,aAAa,GAChBH,KAAK,CAACI,MAAN,GAAeF,SAAf,IAA4B,CAACH,QAAQ,CAACM,UAAvC,IACCN,QAAQ,CAACM,UAAT,IAAuBN,QAAQ,CAACM,UAAT,GAAsB,CAD9C,GAEI,+CAFJ,GAGI,oBAJN;AAMA,4BACE;AAAK,UAAA,SAAS,EAAEF,aAAhB;AAA+B,UAAA,GAAG,EAAEtD;AAApC,wBACE;AAAK,UAAA,SAAS,EAAC;AAAf,WAA6CkD,QAAQ,CAAChD,KAAtD,CADF,eAEE;AAAK,UAAA,SAAS,EAAC;AAAf,WACGiD,KAAK,CAACrD,GAAN,CAAU,UAACD,IAAD;AAAA,8BACT,6BAAC,IAAD;AACE,YAAA,OAAO,EAAEY,OADX;AAEE,YAAA,GAAG,EAAEZ,IAAI,CAACa,KAFZ;AAGE,YAAA,MAAM,EAAEoC,SAAS,KAAKjD,IAAI,CAACa,KAH7B;AAIE,YAAA,IAAI,EAAEb,IAJR;AAKE,YAAA,OAAO,EAAE,MAAI,CAACU,OALhB;AAME,YAAA,WAAW,EAAE;AAAA,qBAAM,MAAI,CAACe,cAAL,CAAoBzB,IAAI,CAACa,KAAzB,CAAN;AAAA,aANf;AAOE,YAAA,WAAW,EAAE+C,OAAO,CAACnB,SAAD;AAPtB,YADS;AAAA,SAAV,CADH,CAFF,CADF;AAkBD,OA/BM,CAAP;AAgCD;;;WAED,sBAAa;AACX,0BAAO;AAAK,QAAA,SAAS,EAAC;AAAf,SAA6B,KAAKd,gBAAL,EAA7B,CAAP;AACD;;;WAED,6BAAoB;AAAA;;AAClB,UAAOsB,SAAP,GAAoB,KAAKzB,KAAzB,CAAOyB,SAAP;AACA,UAAiBT,CAAjB,GAAsB,KAAKF,OAA3B,CAAOhB,QAAP;AACA,mCAEI,KAAKE,KAFT,CACE0B,gBADF;AAAA,UACqBC,MADrB,0BACqBA,MADrB;AAAA,UAC6BvC,OAD7B,0BAC6BA,OAD7B;AAIA,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACGuC,MAAM,CAACX,CAAD,CAAN,CAAUvC,GAAV,CAAc,UAACD,IAAD;AAAA,4BACb,6BAAC,IAAD;AACE,UAAA,GAAG,EAAEA,IAAI,CAACa,KADZ;AAEE,UAAA,OAAO,EAAED,OAFX;AAGE,UAAA,MAAM,EAAEqC,SAAS,KAAKjD,IAAI,CAACa,KAH7B;AAIE,UAAA,IAAI,EAAEb,IAJR;AAKE,UAAA,OAAO,EAAE,MAAI,CAACU,OALhB;AAME,UAAA,WAAW,EAAE,KANf;AAOE,UAAA,WAAW,EAAE;AAAA,mBAAM,MAAI,CAACe,cAAL,CAAoBzB,IAAI,CAACa,KAAzB,CAAN;AAAA,WAPf;AAQE,UAAA,KAAK,EAAE;AAACgD,YAAAA,OAAO,EAAE;AAAV;AART,UADa;AAAA,OAAd,CADH,CADF;AAgBD;;;WAED,kBAAS;AACP,UAAiBrB,CAAjB,GAAsB,KAAKF,OAA3B,CAAOhB,QAAP;AACA,UACqB8B,UADrB,GAEI,KAAK5B,KAFT,CACE0B,gBADF,CACqBE,UADrB;AAIA,0BACE,6BAAC,cAAD;AAAO,QAAA,KAAK,EAAEZ,CAAC,CAAC,mBAAD;AAAf,SACGY,UAAU,GAAG,KAAKxB,UAAL,EAAH,GAAuB,KAAKC,iBAAL,EADpC,CADF;AAKD;;;;EAzJ6BiC,gB;;AA4JhCvC,iBAAiB,CAACP,SAAlB,GAA8B;AAC5Bc,EAAAA,eAAe,EAAEb,mBAAUG,IADC;AAE5B6B,EAAAA,SAAS,EAAEhC,mBAAU8C,MAFO;AAG5B9B,EAAAA,aAAa,EAAEhB,mBAAUC,MAHG;AAI5Ba,EAAAA,WAAW,EAAEd,mBAAUE,IAJK;AAK5B+B,EAAAA,gBAAgB,EAAEjC,mBAAUC;AALA,CAA9B;AAOAK,iBAAiB,CAACF,YAAlB,GAAiC;AAC/BkB,EAAAA,WAAW,EAAEtB,mBAAUG,IADQ;AAE/BE,EAAAA,QAAQ,EAAEL,mBAAUG,IAFW;AAG/B4C,EAAAA,YAAY,EAAE/C,mBAAUE,IAHO;AAI/BsB,EAAAA,SAAS,EAAExB,mBAAUC;AAJU,CAAjC;;IAOa+C,uB;;;;;;;;;;;;;WACX,kBAAS;AACP,yBAII,KAAKzC,KAJT;AAAA,UACEf,WADF,gBACEA,WADF;AAAA,UAEEyD,SAFF,gBAEEA,SAFF;AAAA,UAGqBf,MAHrB,gBAGED,gBAHF,CAGqBC,MAHrB;AAMA,UAAiBX,CAAjB,GAAsB,KAAKF,OAA3B,CAAOhB,QAAP;AAEA,UAAM6C,YAAY,GAAG,mCAAyBD,SAAzB,CAArB;;AACA,yBAA6Bf,MAAM,CAACX,CAAD,CAAN,CAAU4B,IAAV,CAAe,UAACpC,IAAD;AAAA,eAAUA,IAAI,CAACnB,KAAL,KAAesD,YAAzB;AAAA,OAAf,CAA7B;AAAA,UAAO9D,KAAP,gBAAOA,KAAP;AAAA,UAAcC,IAAd,gBAAcA,IAAd;AAAA,UAAoBO,KAApB,gBAAoBA,KAApB;;AAEA,UAAMwD,IAAI,GAAG,0BAAgB/D,IAAI,GAAGA,IAAH,GAAUO,KAA9B,CAAb;AAEA,0BACE;AAAK,QAAA,SAAS,EAAC,0BAAf;AAA0C,QAAA,OAAO,EAAEJ,WAAW,GAAGA,WAAH,GAAiB;AAA/E,sBACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE,6BAAC,IAAD,OADF,CADF,EAIGJ,KAJH,CADF;AAQD;;;;EAvB0CyD,gB;;;AA0B7CG,uBAAuB,CAACjD,SAAxB,GAAoC;AAClCP,EAAAA,WAAW,EAAEQ,mBAAUG,IAAV,CAAekD,UADM;AAElCJ,EAAAA,SAAS,EAAEjD,mBAAUC,MAFa;AAGlCgC,EAAAA,gBAAgB,EAAEjC,mBAAUC,MAAV,CAAiBoD;AAHD,CAApC;AAKAL,uBAAuB,CAAC5C,YAAxB,GAAuC;AACrCC,EAAAA,QAAQ,EAAEL,mBAAUG;AADiB,CAAvC;eAIeG,iB","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {SearchIcon, ThumnailViewIcon, GraphIcon} from 'plotly-icons';\nimport Modal from 'components/containers/Modal';\nimport {traceTypeToPlotlyInitFigure, renderTraceIcon, plotlyTraceToCustomTrace} from 'lib';\nimport {TRACES_WITH_GL} from 'lib/constants';\n\nconst renderActionItems = (actionItems, item) =>\n  actionItems\n    ? actionItems(item).map((action, i) =>\n        !action.onClick ? null : (\n          <a\n            className=\"trace-item__actions__item\"\n            key={i}\n            aria-label={action.label}\n            data-microtip-position={`top-left`}\n            role=\"tooltip\"\n            onClick={action.onClick}\n            target=\"_blank\"\n          >\n            {action.icon}\n          </a>\n        )\n      )\n    : null;\n\nconst Item = ({item, active, handleClick, actions, showActions, complex}) => {\n  const {label, value, icon} = item;\n  const SimpleIcon = renderTraceIcon(icon ? icon : value);\n  const ComplexIcon = renderTraceIcon(icon ? icon : value, 'TraceType');\n\n  return (\n    <div className={`trace-item${active ? ' trace-item--active' : ''}`} onClick={handleClick}>\n      <div className=\"trace-item__actions\">\n        {actions && showActions ? renderActionItems(actions, item) : null}\n      </div>\n      <div className=\"trace-item__image\">\n        {!complex && (\n          <div className=\"trace-item__image__svg\">\n            <SimpleIcon />\n          </div>\n        )}\n        {complex && (\n          <div className=\"trace-item__image__wrapper\">\n            <ComplexIcon />\n          </div>\n        )}\n      </div>\n      <div className=\"trace-item__label\">{label}</div>\n    </div>\n  );\n};\n\nItem.propTypes = {\n  item: PropTypes.object,\n  active: PropTypes.bool,\n  complex: PropTypes.bool,\n  handleClick: PropTypes.func,\n  actions: PropTypes.func,\n  showActions: PropTypes.bool,\n};\nItem.contextTypes = {\n  localize: PropTypes.func,\n};\n\nclass TraceTypeSelector extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectAndClose = this.selectAndClose.bind(this);\n    this.actions = this.actions.bind(this);\n    this.renderCategories = this.renderCategories.bind(this);\n    this.renderGrid = this.renderGrid.bind(this);\n    this.renderSingleBlock = this.renderSingleBlock.bind(this);\n  }\n\n  selectAndClose(value) {\n    const {\n      updateContainer,\n      glByDefault,\n      fullContainer: {type},\n    } = this.props;\n    const computedValue = traceTypeToPlotlyInitFigure(value);\n    if (\n      ((type && type.endsWith('gl')) || (!TRACES_WITH_GL.includes(type) && glByDefault)) &&\n      TRACES_WITH_GL.includes(computedValue.type) &&\n      !computedValue.type.endsWith('gl')\n    ) {\n      computedValue.type += 'gl';\n    }\n    updateContainer(computedValue);\n    this.context.handleClose();\n  }\n\n  actions({value}) {\n    const {localize: _, chartHelp} = this.context;\n\n    const onClick = (e, func) => {\n      e.stopPropagation();\n      func();\n      this.context.handleClose();\n    };\n\n    return [\n      {\n        label: _('Charts like this by Plotly users.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].feedQuery &&\n          ((e) =>\n            onClick(e, () =>\n              window.open(\n                `https://plot.ly/feed/?q=${chartHelp[value] ? chartHelp[value].feedQuery : value}`,\n                '_blank'\n              )\n            )),\n        icon: <SearchIcon />,\n      },\n      {\n        label: _('View tutorials on this chart type.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].helpDoc &&\n          ((e) => onClick(e, () => window.open(chartHelp[value].helpDoc, '_blank'))),\n        icon: <ThumnailViewIcon />,\n      },\n      {\n        label: _('See a basic example.'),\n        onClick:\n          chartHelp[value] &&\n          chartHelp[value].examplePlot &&\n          ((e) => onClick(e, chartHelp[value].examplePlot)),\n        icon: <GraphIcon />,\n      },\n    ];\n  }\n\n  renderCategories() {\n    const {fullValue} = this.props;\n    const {localize: _, chartHelp} = this.context;\n    const {\n      traceTypesConfig: {traces, categories, complex},\n    } = this.props;\n\n    return categories(_).map((category, i) => {\n      const items = traces(_)\n        .filter(({category: {value}}) => value === category.value)\n        .filter((i) => i.value !== 'scattergl' && i.value !== 'scatterpolargl');\n\n      const MAX_ITEMS = 4;\n\n      const columnClasses =\n        (items.length > MAX_ITEMS && !category.maxColumns) ||\n        (category.maxColumns && category.maxColumns > 1)\n          ? 'trace-grid__column trace-grid__column--double'\n          : 'trace-grid__column';\n\n      return (\n        <div className={columnClasses} key={i}>\n          <div className=\"trace-grid__column__header\">{category.label}</div>\n          <div className=\"trace-grid__column__items\">\n            {items.map((item) => (\n              <Item\n                complex={complex}\n                key={item.value}\n                active={fullValue === item.value}\n                item={item}\n                actions={this.actions}\n                handleClick={() => this.selectAndClose(item.value)}\n                showActions={Boolean(chartHelp)}\n              />\n            ))}\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderGrid() {\n    return <div className=\"trace-grid\">{this.renderCategories()}</div>;\n  }\n\n  renderSingleBlock() {\n    const {fullValue} = this.props;\n    const {localize: _} = this.context;\n    const {\n      traceTypesConfig: {traces, complex},\n    } = this.props;\n\n    return (\n      <div className=\"trace-grid-single-block\">\n        {traces(_).map((item) => (\n          <Item\n            key={item.value}\n            complex={complex}\n            active={fullValue === item.value}\n            item={item}\n            actions={this.actions}\n            showActions={false}\n            handleClick={() => this.selectAndClose(item.value)}\n            style={{display: 'inline-block'}}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  render() {\n    const {localize: _} = this.context;\n    const {\n      traceTypesConfig: {categories},\n    } = this.props;\n\n    return (\n      <Modal title={_('Select Trace Type')}>\n        {categories ? this.renderGrid() : this.renderSingleBlock()}\n      </Modal>\n    );\n  }\n}\n\nTraceTypeSelector.propTypes = {\n  updateContainer: PropTypes.func,\n  fullValue: PropTypes.string,\n  fullContainer: PropTypes.object,\n  glByDefault: PropTypes.bool,\n  traceTypesConfig: PropTypes.object,\n};\nTraceTypeSelector.contextTypes = {\n  handleClose: PropTypes.func,\n  localize: PropTypes.func,\n  mapBoxAccess: PropTypes.bool,\n  chartHelp: PropTypes.object,\n};\n\nexport class TraceTypeSelectorButton extends Component {\n  render() {\n    const {\n      handleClick,\n      container,\n      traceTypesConfig: {traces},\n    } = this.props;\n\n    const {localize: _} = this.context;\n\n    const inferredType = plotlyTraceToCustomTrace(container);\n    const {label, icon, value} = traces(_).find((type) => type.value === inferredType);\n\n    const Icon = renderTraceIcon(icon ? icon : value);\n\n    return (\n      <div className=\"trace-type-select-button\" onClick={handleClick ? handleClick : null}>\n        <div className=\"trace-type-select-button__icon\">\n          <Icon />\n        </div>\n        {label}\n      </div>\n    );\n  }\n}\n\nTraceTypeSelectorButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  container: PropTypes.object,\n  traceTypesConfig: PropTypes.object.isRequired,\n};\nTraceTypeSelectorButton.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default TraceTypeSelector;\n"],"file":"TraceTypeSelector.js"}